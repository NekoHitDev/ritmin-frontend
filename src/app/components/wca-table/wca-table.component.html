<div class="wca-table-layout">
  <p-table [value]="wcas" styleClass="p-datatable-sm p-datatable-responsive-demo" [autoLayout]="true" [loading]="isLoading" [paginator]="true"
  [rows]="20" [showCurrentPageReport]="true" [rowsPerPageOptions]="[10,20,50]" [totalRecords]="wcas.length" sortField="created" sortOrder="1"
  currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries" stateStorage="session" stateKey="pennycapstable-session"
  [responsive]="true">
    <ng-template pTemplate="header">
      <tr>
        <th pSortableColumn="creator">Creator <p-sortIcon field="creator"></p-sortIcon></th>
        <th pSortableColumn="desc">Description <p-sortIcon field="desc"></p-sortIcon></th>
        <th pSortableColumn="tokens">Tokens <p-sortIcon field="tokens"></p-sortIcon></th>
        <th pSortableColumn="stake">Stake Rate <p-sortIcon field="stake"></p-sortIcon></th>
        <th pSortableColumn="status">Status <p-sortIcon field="status"></p-sortIcon></th>
        <th pSortableColumn="progress">Progress <p-sortIcon field="progress"></p-sortIcon></th>
        <th pSortableColumn="created">Created <p-sortIcon field="created"></p-sortIcon></th>
        <th></th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-wca>
      <tr>
        <td><a [href]="'https://neo3.neotube.io/address/' + wca.creator"><small>{{wca.creator}}</small></a></td>
        <td>{{wca.description | truncate: [60, '...']}}</td>
        <td>
          {{wca.maxTokenSoldCount | number}}
          <p-progressBar value="5" [showValue]="false" [style]="{'height': '6px'}"></p-progressBar>
        </td>
        <td>
          {{wca.stakePer100Token}}
        </td>
        <td><p-tag [value]="wca.status" [severity]="getStatusTag(wca.status)"></p-tag></td>
        <td>
          <p-progressBar value="25"></p-progressBar>
        </td>
        <td>{{wca.creationTimestamp | timeAgo}}</td>
        <td>
          <button pButton type="button" label="Details"
                  icon="pi pi-search" class="p-button-outlined"
                  [routerLink]="['/wcas' , wca.identifier]"
          ></button>
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>
