<ng-container *ngIf="!created; else successCreate">
  <h4>WCA</h4>
  <p-table [value]="[1]">
    <ng-template pTemplate="body">
      <tr>
        <td>Identifier</td>
        <td>{{basicInfo.identifier}}</td>
      </tr>
      <tr>
        <td>Description</td>
        <td>{{basicInfo.description}}</td>
      </tr>
      <tr>
        <td>Cooldown Interval</td>
        <td>{{basicInfo.cooldownInterval}}</td>
      </tr>
      <tr>
        <td>Tokens to sell</td>
        <td>{{basicInfo.maxTokenSoldCount}}</td>
      </tr>
      <tr>
        <td>Stake/Token</td>
        <td>{{basicInfo.stakePerToken}}</td>
      </tr>
      <tr>
        <td>Public</td>
        <td>{{basicInfo.isPublic ? 'Yes' : 'No'}}</td>
      </tr>
    </ng-template>
  </p-table>

  <h4>Milestones</h4>
  <p-table [value]="milestones" styleClass="p-datatable-sm">
    <ng-template pTemplate="header">
      <tr>
        <th>#</th>
        <th>Title</th>
        <th>Description</th>
        <th>End Date</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-ms>
      <tr [ngClass]="{'highlight' : ms['isThreshold'] == true}">
        <td>{{getIndex(ms.endTimestamp) + 1}}</td>
        <td>{{ms.title}}</td>
        <td>{{ms.description}}</td>
        <td>{{ms.endTimestamp | date: 'medium'}}</td>
      </tr>
    </ng-template>
  </p-table>

  <div class="p-d-flex p-jc-between p-mt-3">
    <button pButton label="Go back" icon="pi pi-caret-left" (click)="onBefore()" [disabled]="isLoading"></button>
    <button pButton label="Create" icon="pi pi-plus" (click)="onComplete()" [disabled]="isLoading" class="p-button-success"></button>
  </div>

</ng-container>

<app-pending-request header="Create WCA" [display]="isLoading"></app-pending-request>

<ng-template #successCreate>
  <div class="p-d-flex p-jc-center p-ai-center p-flex-column">
    <h1>Your WCA has been created!</h1>
    <button pButton label="Browse" icon="pi pi-search" routerLink=""></button>
    <div class="p-mt-5 p-d-flex p-flex-column p-jc-center p-ai-center">
      <div class="p-mb-2">
        Share your WCA:
      </div>
      <input type="text" readonly pInputText [ngModel]="'https://wca.nekohit.com/' + basicInfo.identifier">
    </div>
  </div>
</ng-template>
